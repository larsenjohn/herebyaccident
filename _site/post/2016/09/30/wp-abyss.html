<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Where all of the tragic happens. You should really turn back now.">
    <meta name="author" content="">

    <!-- FB -->
  	<meta property="og:title" content="..." />
  	<meta property="og:site_name" content="..."/>
  	<meta property="og:url" content="http://..." />
  	<meta property="og:description" content="..." />
  	<meta property="og:type" content="article" />
  	<meta property="og:image" content="http://..." />
  	<meta property="og:image:type" content="/images/jpeg" />
  	<meta property="og:image:width" content="1200" />
  	<meta property="og:image:height" content="650" />

  	<!-- FB alt translations -->
  	<meta property="og:locale" content="en_US" />

    <title>
      
        Wordpress and the abyss
      
    </title>

    <!-- fav and touch -->
    <link rel="shortcut icon" type="image/png" href="/favicon.png?">

    <!-- CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Ubuntu:400,300,500' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,300italic,400italic,600,600italic' rel='stylesheet' type='text/css'>
    <link href="/css/libs/font-awesome.min.css" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

  
<!-- Basic nav -->

<nav id="mainnav" class="navbar navbar-default navbar-fixed-top">
  <div class="container">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="/index.html"><i class="fa fa-bug" aria-hidden="true"></i> This incident will be reported</a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
    </div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="/blog.html">Adventures in bullshit <i class="fa fa-terminal" aria-hidden="true"></i></a>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->

  </div>
</nav>


  <div class="post">

    <div class="container push">
      <div class="row">

        <div class="col-sm-9">
          <h1 id="wordpress-and-the-black-abyss">Wordpress and the black abyss</h1>

<p>Sure, you learned PHP while you were asleep. I didn’t.</p>

<p>Wordpress is what my nightmares are made of, so I don’t sleep much.</p>

<hr class="rule" />

<hr />

<h2 id="load-jscss-through-functionsphp-child">load JS/CSS through functions.php (child)</h2>

<p>For instance, if you were lazy like me and are crippled by Bootstrap.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// Bootstrap Support
function bootstrap() {

	wp_enqueue_script( 'bootstrap-js', get_stylesheet_directory_uri() . '/js/bootstrap.min.js', array( 'jquery' ));
	wp_enqueue_style( 'bootstrap-css', get_stylesheet_directory_uri() . '/css/bootstrap.min.css' );
}

add_action( 'wp_enqueue_scripts', 'bootstrap' );
</code></pre>
</div>

<p>So to walk through this:</p>

<ul>
  <li>start with defining your fancy new function. <code class="highlighter-rouge">function something() {</code>. The “something” being whatever you want to name your function.</li>
  <li>Next <code class="highlighter-rouge">wp_enqueue_script( 'bootstrap-js',</code> Load the script with another name of your choosing.</li>
  <li><code class="highlighter-rouge">get_stylesheet_directory_uri() .</code> This tells WP to get the file from the child theme directory</li>
  <li><code class="highlighter-rouge">'/js/bootstrap.min.js', array( 'jquery' ));</code> This is the path to wherever you put the file. The array tells WP it’s ‘jquery’, but I’m not sure if that’s a necessity.</li>
  <li><code class="highlighter-rouge">add_action( 'wp_enqueue_scripts', 'bootstrap' );</code> Then tell WP to add your fancy new function.</li>
</ul>

<p>Fascinating huh? <strong>Watch out for the <code class="highlighter-rouge">get_stylesheet_directory_uri()</code>. That’s for the child theme.</strong> If you are saucy and using <em>_S</em> You will want to load it like so: <code class="highlighter-rouge">get_template_directory_uri()</code>, since Underscores is the template.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function fucktheweb_scripts() {

	wp_enqueue_style( 'bootstrap-css', get_template_directory_uri() . '/css/bootstrap.min.css' );
	wp_enqueue_style( 'font-awesome', get_template_directory_uri() . '/css/font-awesome.min.css' );

	/** main styles **/
	wp_enqueue_style( 'fucktheweb-style', get_stylesheet_uri() );

	wp_enqueue_script( 'fucktheweb-navigation', get_template_directory_uri() . '/js/navigation.js', array(), '20120206', true );
	wp_enqueue_script( 'fucktheweb-skip-link-focus-fix', get_template_directory_uri() . '/js/skip-link-focus-fix.js', array(), '20130115', true );

	/** set jquery arrary for bootstrap js **/
	wp_enqueue_script( 'bootstrap-js', get_template_directory_uri() . '/js/bootstrap.min.js', array( 'jquery' ), '3.1.1', true );

	if ( is_singular() &amp;&amp; comments_open() &amp;&amp; get_option( 'thread_comments' ) ) {
	wp_enqueue_script( 'comment-reply' );
	}
}

add_action( 'wp_enqueue_scripts', 'fucktheweb_scripts' );
</code></pre>
</div>

<p>This one has a bunch of BS in it as well. It worked once, but maybe not anymore.</p>

<hr />
<hr />

<h2 id="load-a-custom-menu">Load a custom menu</h2>

<p>This is oddly not that difficult. First, you will need to go into the functions.php file and drop in this not-so-bad boy. This works just dandy for your <strong>child theme</strong>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>//** Load custom menus **/

function register_my_menus() {
  	register_nav_menus(
		array(
  		'new-menu' =&gt; __( 'Custom Shit' ),
  		'social-menu' =&gt; __( 'Social Shit' ),
		)
  		);
}
add_action( 'init', 'register_my_menus' );
</code></pre>
</div>

<p>To dissect this, you are setting up the function ‘register_my_menus’, with the array of ‘new-menu’, and it will display on the Wordpress back end as the ‘Custom Shit’ menu in the menus section. And so on. Once it’s all done it adds the action of ‘register_my_menus’.</p>

<p>Then to display it in the template - you drop in this code. In this instance, there is the added ‘container_class’ which gives you handy container class for CSS.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;?wp_nav_menu( array( 'theme_location' =&gt; 'new-menu', 'container_class' =&gt; 'custom-shit' ) ); ?&gt;
&lt;?wp_nav_menu( array( 'theme_location' =&gt; 'social-menu', 'container_class' =&gt; 'social-shit' ) ); ?&gt;
</code></pre>
</div>

<p>If multiple menus ain’t your bag you can just do a singe one like so.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>function register_my_menu() {
	register_nav_menu('new-menu',__( 'Custom Shit' ));
}
add_action( 'init', 'register_my_menu' );
</code></pre>
</div>

<p>Then just add the single line to the template wherever. Bada bing bada boom.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;?wp_nav_menu( array( 'theme_location' =&gt; 'new-menu', 'container_class' =&gt; 'custom-shit' ) ); ?&gt;
</code></pre>
</div>

<hr />
<hr />

<h2 id="wanna-install-in-a-subfolder">Wanna install in a subfolder?</h2>

<p>Maybe you are lazy or can’t make a subdomain and want two installs for staging or something. Seems like you can just make a subfolder and drop the whole install in there, right? Wrong bozo! This will fuck up your permalink structure.</p>

<p>But, you can do a little workaround with the .htaccess file. Install it in the subfolder like usual, make sure you have your .htaccess file in the subfolder and change it from…</p>

<div class="highlighter-rouge"><pre class="highlight"><code># I'm the original .htaccess

# BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ – [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
# Lookie here!!
RewriteRule . /index.php [L]
&lt;/IfModule&gt;
# END WordPress
</code></pre>
</div>

<p>to:</p>

<div class="highlighter-rouge"><pre class="highlight"><code># I'm the new .htaccess

# BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ – [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
# I'm the new path
RewriteRule . /fuckit/index.php [L]
&lt;/IfModule&gt;
# END WordPress
</code></pre>
</div>

<hr />
<hr />

<h2 id="tired-of-assholes-poking-around-in-your-directories">Tired of assholes poking around in your directories?</h2>

<p>Go to /wp-content/uploads/ and you’ll know what I mean. Some hosts do this automagically, some don’t. I have <em>no</em> idea why so don’t ask me. So the answer is again in the .htaccess file. At the bottom you just add <code class="highlighter-rouge">Options -Indexes</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># I'm an .htaccess example, yo.

# BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ – [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
&lt;/IfModule&gt;

# Don't look in my drawers, chump.

Options -Indexes

# END WordPress
</code></pre>
</div>

<hr />
<hr />

<h2 id="browser-caching">Browser caching</h2>

<p>I fucking hate Google. Sooner or later some asshole will want you follow their Page Speed <em>insights</em> and you will want to kill yourself. One part of the noose knot will be to “leverage browser caching”. So - you think that using the “wp super cache” might do that right? Given that it has “cache” right in the fucking name.</p>

<p>Wrong bozo! The super cache spits out your Wordpress files into plain old HTML/CSS/JS instead of constantly digging into the database. This <em>may</em> make you wonder why your are using Wordpress at all for your 3 page site, but I digest…</p>

<p>.htaccess again.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># Put me at the bottom.

# BEGIN EXPIRES

ExpiresActive On
ExpiresDefault "access plus 10 days"
ExpiresByType text/css "access plus 1 week"
ExpiresByType text/plain "access plus 1 month"
ExpiresByType image/svg+xml "access 1 month"
ExpiresByType image/gif "access plus 1 month"
ExpiresByType image/png "access plus 1 month"
ExpiresByType image/jpeg "access plus 1 month"
ExpiresByType application/x-javascript "access plus 1 month"
ExpiresByType application/javascript "access plus 1 week"
ExpiresByType application/x-icon "access plus 1 year"

# END EXPIRES
</code></pre>
</div>

<p>Of course this will bite you in the ass when you are updating, and will most likely fuck your client unless they flush the cache. So when you update substantial shit - you will need to switch it over to <code class="highlighter-rouge">access 15 minutes</code> or so.</p>

<hr />
<hr />

<h2 id="your-client-uses-godaddy">Your client uses Godaddy</h2>

<p>Good Lord, what a clusterfuck Godaddy is. I don’t know how many times I have gotten screwed trying to uplad a database from staging there. Here is the lastest in a long line of things I want to drink to forget.</p>

<p>This is a Godsend for <a href="https://wordpress.org/support/topic/1273-unknown-collation-utf8mb4_unicode_520_ci/">this issue</a>. So if you get a bunch of shit like this <code class="highlighter-rouge">#1273 – Unknown collation: ‘utf8mb4_unicode_520_ci’</code>, do the following…</p>

<p>1) Click the “Export” tab for the database</p>

<p>2) Click the “Custom” radio button</p>

<p>3) Go the section titled “Format-specific options” and change the dropdown for “Database system or older MySQL server to maximize output compatibility with:” from NONE to MYSQL40.</p>

<p>4) Scroll to the bottom and click “GO”</p>

<hr />
<hr />

        </div>

        <div class="col-sm-3 sidenav">
          <h3>No such process</h3>
          <hr class="heading">
          <ul>
            
            <li>
              <a href="/post/2017/04/20/dantes-squarespace.html">Dante's Squarespace</a>
            </li>
            
            <li>
              <a href="/post/2016/12/16/firebase.html">Jekyll Firebase hosting</a>
            </li>
            
            <li>
              <a href="/post/2016/09/30/wp-abyss.html">Wordpress and the abyss</a>
            </li>
            
            <li>
              <a href="/post/2016/09/29/js-hair-pulling.html">JS hair pulling</a>
            </li>
            
            <li>
              <a href="/post/2016/08/29/drupal-clusterfuck.html">Drupal clusterfuck</a>
            </li>
            
            <li>
              <a href="/post/2016/08/26/AWS-S3-resource-sharing.html">AWS S3 resource sharing</a>
            </li>
            
            <li>
              <a href="/post/2016/05/12/prose-configure.html">Github pages prose.io config</a>
            </li>
            
            <li>
              <a href="/post/2016/04/28/simple-sass.html">Basic SASS</a>
            </li>
            
            <li>
              <a href="/post/2016/04/28/git-cheat-sheet.html">git cheat sheet</a>
            </li>
            
            <li>
              <a href="/2016/04/20/simple-xml-sitemap.html">XML simple sitemap</a>
            </li>
            
            <li>
              <a href="/post/2016/04/20/jekyll-site-hosted-on-github.html">Jekyll github pages hosting</a>
            </li>
            
            <li>
              <a href="/2016/04/20/common-analytics-settings.html">Analytics starter settings</a>
            </li>
            
            <li>
              <a href="/2016/04/18/youtube-custom-transcriptions.html">Youtube custom transcriptions</a>
            </li>
            
            <li>
              <a href="/2016/04/18/aws-ec2-easy-engine.html">AWS EC2 LEMP stack</a>
            </li>
            
            <li>
              <a href="/2016/04/15/vagrant-scotchbox.html">Vagrant Scotchbox LAMP stack</a>
            </li>
            
            <li>
              <a href="/2016/04/15/open-vpn-el-capitan-bug.html">Open VPN El Capitan bug</a>
            </li>
            
            <li>
              <a href="/post/2016/04/15/common-css.html">Common CSS</a>
            </li>
            
            <li>
              <a href="/2016/04/05/global-git-ignore.html">Global .gitignore</a>
            </li>
            
            <li>
              <a href="/post/2016/04/05/basic-linux-commands.html">Linux basics</a>
            </li>
            
            <li>
              <a href="/post/2016/04/05/aws-s3.html">AWS S3 Static Setup</a>
            </li>
            
            <li>
              <a href="/2016/04/05/OSX-setup.html">OSX setup</a>
            </li>
            
            <li>
              <a href="/2016/04/04/markdown.html">Markdown / Kramdown</a>
            </li>
            
          </ul>
        </div>

      </div>
    </div>

  </div>

  
<footer>

  <div class="container">
    <div class="row">
      <div class="col-sm-12">

      <hr>
      <p class="text-center">It's 2017 in case you live on the moon.</p>

      </div>
    </div>
  </div>

</footer><!-- footer -->


  <!-- JS -->


</body>
